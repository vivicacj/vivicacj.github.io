<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O-Level ç‰‡æ®µç¼©å†™è¶‹åŠ¿åˆ†æç³»ç»Ÿ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 20px;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 1.1em;
        }

        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-button.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 15px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .chart-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 10px 20px;
            margin-bottom: 30px;
            font-size: 0.9rem;
            color: #555;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
        }

        .legend-group {
            display: flex;
            align-items: center;
            gap: 15px;
            border-right: 1px solid #ddd;
            padding-right: 15px;
        }

        .legend-group:last-child {
            border-right: none;
        }

        .legend-item {
            display: flex;
            align-items: center;
        }
        
        .legend-shape {
            font-size: 1.5em;
            line-height: 1;
            margin-right: 8px;
            width: 20px;
            text-align: center;
        }

        .legend-color-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            flex-shrink: 0;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .data-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .data-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .model-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, opacity 0.5s ease;
            opacity: 1;
        }

        .model-card:hover {
            transform: translateY(-5px);
        }

        .model-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .model-formula {
            background: #f8f9ff;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin: 10px 0;
            font-family: monospace;
        }

        .prediction-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .prediction-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .prediction-year {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .prediction-probability {
            font-size: 2em;
            margin: 10px 0;
        }

        .strategy-list {
            list-style: none;
            padding: 0;
        }
        
        ol.strategy-list {
            padding-left: 5px;
        }

        .strategy-list li {
            background: #f8f9ff;
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .strategy-list li:hover {
            background: #e8ecff;
            transform: translateX(5px);
        }

        .highlight {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }

        .year-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .prediction-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <div class="header">
            <h1>ğŸ“š O-Level ç‰‡æ®µç¼©å†™è¶‹åŠ¿åˆ†æç³»ç»Ÿ</h1>
            <p>åŸºäº2014-2023å¹´çœŸé¢˜æ•°æ®ï¼Œæ·±åº¦è§£ææ–‡ä½“åˆ†å¸ƒä¸ä¸ƒå¤§é€»è¾‘æ¨¡å…·åº”ç”¨è§„å¾‹</p>
            
            <!-- æ¦‚è§ˆç»Ÿè®¡å¡ç‰‡ -->
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-number">10</div>
                    <div class="stat-label">å¹´ä»½è¦†ç›–</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">7</div>
                    <div class="stat-label">é€»è¾‘æ¨¡å…·</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">80%</div>
                    <div class="stat-label">è®®è®ºæ–‡å æ¯”</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">æ¨¡å…·è¦†ç›–ç‡</div>
                </div>
            </div>
        </div>

        <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('trend', this)">ğŸ“ˆ è¶‹åŠ¿åˆ†æ</button>
            <button class="tab-button" onclick="showTab('genre', this)">ğŸ“ æ–‡ä½“åˆ†æ</button>
            <button class="tab-button" onclick="showTab('model', this)">ğŸ§© æ¨¡å…·åˆ†æ</button>
            <button class="tab-button" onclick="showTab('prediction', this)">ğŸ”® é¢„æµ‹ç­–ç•¥</button>
        </div>

        <!-- è¶‹åŠ¿åˆ†æé¡µé¢ -->
        <div id="trend" class="tab-content active">
            <h2>ğŸ“Š åå¹´è€ƒé¢˜è¶‹åŠ¿å˜åŒ–</h2>
            
            <div class="chart-container">
                <canvas id="trendChart"></canvas>
            </div>
            <div id="trendChartLegend" class="chart-legend"></div>

            <div class="chart-grid">
                <div class="chart-container">
                    <h3>æ–‡ä½“å¹´åº¦åˆ†å¸ƒ</h3>
                    <canvas id="genreYearChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>æ¨¡å…·ä½¿ç”¨é¢‘æ¬¡</h3>
                    <canvas id="modelFreqChart"></canvas>
                </div>
            </div>

            <!-- è¯¦ç»†æ•°æ®è¡¨æ ¼ -->
            <div class="data-table">
                <table>
                    <thead>
                        <tr>
                            <th>å¹´ä»½</th>
                            <th>ä¸»é¢˜</th>
                            <th>æ–‡ä½“</th>
                            <th>å¯¹åº”æ¨¡å…·</th>
                            <th>æ ¸å¿ƒé€»è¾‘</th>
                        </tr>
                    </thead>
                    <tbody id="trendTableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- æ–‡ä½“åˆ†æé¡µé¢ -->
        <div id="genre" class="tab-content">
            <h2>ğŸ“ æ–‡ä½“åˆ†å¸ƒä¸ç‰¹å¾åˆ†æ</h2>
            
            <div class="chart-grid">
                <div class="chart-container">
                    <h3>æ–‡ä½“æ€»ä½“åˆ†å¸ƒ</h3>
                    <canvas id="genrePieChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>æ–‡ä½“-æ¨¡å…·å¯¹åº”å…³ç³»</h3>
                    <canvas id="genreModelChart"></canvas>
                </div>
            </div>

            <div class="model-grid">
                <div class="model-card">
                    <div class="model-title">è®®è®ºæ–‡ (Argumentative) - 80%</div>
                    <p><strong>é€»è¾‘å¤šæ ·æ€§æœ€å¼º</strong>ï¼šå¯å¯¹åº”M1, M2, M3, M4, M5, M6, M7ä¸ƒç§æ¨¡å…·</p>
                    <p><strong>å‡ºç°å¹´ä»½</strong>: <span class="year-badge">2021</span><span class="year-badge">2020</span><span class="year-badge">2019</span><span class="year-badge">2018</span><span class="year-badge">2017</span><span class="year-badge">2016</span><span class="year-badge">2015</span><span class="year-badge">2014</span></p>
                    <p><strong>å­¦ä¹ å»ºè®®</strong>ï¼šé‡ç‚¹æ”»å…‹ï¼Œåˆ†é…60%å­¦ä¹ æ—¶é—´</p>
                </div>
                <div class="model-card">
                    <div class="model-title">è¯´æ˜æ–‡ (Expository) - 10%</div>
                    <p><strong>æ¨¡å…·é›†ä¸­åº¦é«˜</strong>ï¼šä¸»è¦å¯¹åº”M3æ¨¡å…·</p>
                    <p><strong>å‡ºç°å¹´ä»½</strong>: <span class="year-badge">2023</span></p>
                    <p><strong>å­¦ä¹ å»ºè®®</strong>ï¼šä¸“æ”»ç±»æ¯”æŠ½è±¡ï¼Œåˆ†é…25%æ—¶é—´</p>
                </div>
                <div class="model-card">
                    <div class="model-title">è®°å™æ–‡ (Narrative) - 10%</div>
                    <p><strong>å¤¹å™å¤¹è®®ç‰¹è‰²</strong>ï¼šä¸»è¦å¯¹åº”M7ï¼Œé€šå¸¸å¸¦æœ‰è®®è®ºæˆåˆ†</p>
                    <p><strong>å‡ºç°å¹´ä»½</strong>: <span class="year-badge">2022</span></p>
                    <p><strong>å­¦ä¹ å»ºè®®</strong>ï¼šæ³¨é‡å™è®®ç»“åˆï¼Œåˆ†é…15%æ—¶é—´</p>
                </div>
            </div>
        </div>

        <!-- æ¨¡å…·åˆ†æé¡µé¢ -->
        <div id="model" class="tab-content">
            <h2>ğŸ§© ä¸ƒå¤§é€»è¾‘æ¨¡å…·è¯¦è§£</h2>
            
            <div class="chart-container">
                <h3>æ¨¡å…·ä½¿ç”¨é¢‘æ¬¡åˆ†å¸ƒ</h3>
                <canvas id="modelUsageChart"></canvas>
            </div>

            <div class="model-grid">
                <div class="model-card">
                    <div class="model-title">M1 åŸå› ç»“æœå¼</div>
                    <div class="model-formula">ã€ç°è±¡/ç»†èŠ‚ â†’ åŸå›  â†’ åæœ â†’ å¯ç¤ºã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2021</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: æœ‰æ•ˆæ‰¹è¯„çš„æ–¹å¼ä¸åŠ›é‡</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®®è®ºæ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M2 å¦å®šå®šä¹‰å¼</div>
                    <div class="model-formula">ã€è¯¯è§£/ç°è±¡ â†’ è½¬æŠ˜å®šä¹‰ â†’ ä¸¾ä¾‹ â†’ å¯ç¤ºã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2017</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: å¹¸ç¦çš„çœŸæ­£å«ä¹‰</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®®è®ºæ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M3 ç±»æ¯”æŠ½è±¡å¼</div>
                    <div class="model-formula">ã€ç°è±¡/ç»†èŠ‚ â†’ ç±»æ¯” â†’ æ–¹æ³• â†’ æ„ä¹‰ã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2023</span><span class="year-badge">2016</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: äººç”Ÿæ— å¸¸ä¸åº”å¯¹ï¼Œè®©äººç”Ÿæ›´æœ‰æ„ä¹‰</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è¯´æ˜æ–‡ï¼Œè®®è®ºæ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M4 ç‰¹å¾å½±å“å¼</div>
                    <div class="model-formula">ã€ç‰¹ç‚¹/ç»†èŠ‚ â†’ å½±å“/æ•ˆæœ â†’ æ€»ç»“ â†’ å¯ç¤ºã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2018</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: ã€Šå‚…é›·å®¶ä¹¦ã€‹çš„ç‰¹ç‚¹ä¸å½±å“</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®®è®ºæ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M5 å¤šå…ƒå¯¹æ¯”å¼</div>
                    <div class="model-formula">ã€Aç°è±¡ â†’ Bç°è±¡ â†’ Cç°è±¡ â†’ ä»·å€¼åˆ¤æ–­ã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2019</span><span class="year-badge">2015</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: äººç”Ÿæ€åº¦çš„é€‰æ‹©ï¼Œè¯»ä¹¦ä¸è¯»æŠ¥çš„åŒºåˆ«</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®®è®ºæ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M6 ç»å†è½¬å˜å¼</div>
                    <div class="model-formula">ã€æ—§ä¿¡å¿µ â†’ ç»å†äº‹ä»¶ â†’ æ–°ç†è§£ â†’ å¯ç¤ºã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2020</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: å¯¹æˆåŠŸæ—¶é—´è§‚çš„è½¬å˜</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®®è®ºæ–‡ï¼Œè®°å™æ–‡</p>
                </div>
                <div class="model-card">
                    <div class="model-title">M7 å¹¶åˆ—å¹¶æ”¶å¼</div>
                    <div class="model-formula">ã€ç°è±¡ä¸€ â†’ ç°è±¡äºŒ â†’ ç°è±¡ä¸‰ â†’ æ€»ç»“å¯ç¤ºã€‘</div>
                    <p><strong>ä½¿ç”¨å¹´ä»½</strong>: <span class="year-badge">2022</span><span class="year-badge">2014</span></p>
                    <p><strong>ç»å…¸ä¸»é¢˜</strong>: å¾·é‡Œçš„å˜ä¸ä¸å˜ï¼Œè¶…è¶Šè‡ªå·±æ”€ä¸ŠæˆåŠŸé¡¶å³°</p>
                    <p><strong>é€‚ç”¨æ–‡ä½“</strong>: è®°å™æ–‡ï¼Œè®®è®ºæ–‡</p>
                </div>
            </div>
        </div>

        <!-- é¢„æµ‹ç­–ç•¥é¡µé¢ -->
        <div id="prediction" class="tab-content">
            <h2>ğŸ”® æœªæ¥è¶‹åŠ¿é¢„æµ‹ä¸å­¦ä¹ ç­–ç•¥</h2>
            
            <div class="chart-container">
                <h3>2024-2026å¹´æ¨¡å…·é¢„æµ‹æ¦‚ç‡</h3>
                <canvas id="predictionChart"></canvas>
            </div>

            <div class="prediction-section">
                <div class="prediction-card">
                    <div class="prediction-year">2024å¹´é¢„æµ‹</div>
                    <div class="prediction-probability">M2/M4 - 70%</div>
                    <p>åŸºäºå¾ªç¯è§„å¾‹ï¼ŒM2å¦å®šå®šä¹‰å¼å’ŒM4ç‰¹å¾å½±å“å¼æœ€æœ‰å¯èƒ½å‡ºç°</p>
                    <p><strong>å»ºè®®é‡ç‚¹</strong>ï¼šåŠ å¼ºè®®è®ºæ–‡è®­ç»ƒï¼Œç‰¹åˆ«æ˜¯å®šä¹‰è¾¨æå’Œç‰¹å¾åˆ†æç±»é¢˜ç›®</p>
                </div>
                <div class="prediction-card">
                    <div class="prediction-year">2025å¹´é¢„æµ‹</div>
                    <div class="prediction-probability">M1/M6 - 65%</div>
                    <p>é¢„è®¡è½®åˆ°M1åŸå› ç»“æœå¼æˆ–M6ç»å†è½¬å˜å¼</p>
                    <p><strong>å»ºè®®é‡ç‚¹</strong>ï¼šç»ƒä¹ å› æœåˆ†æå’Œä¸ªäººæˆé•¿ç±»ä¸»é¢˜å†™ä½œ</p>
                </div>
            </div>

            <h3>ğŸ¯ å­¦ä¹ ç­–ç•¥å»ºè®®</h3>
            
            <div class="model-grid">
                <div class="model-card">
                    <div class="model-title">æˆ˜ç•¥å±‚é¢ - æ—¶é—´åˆ†é…</div>
                    <ul class="strategy-list">
                        <li><span class="highlight">è®®è®ºæ–‡è®­ç»ƒ 60%</span> - é‡ç‚¹æ”»å…‹M1,M2,M4,M5,M6</li>
                        <li><span class="highlight">è¯´æ˜æ–‡è®­ç»ƒ 25%</span> - ä¸“æ”»M3,M7ç±»æ¯”å’Œå¹¶åˆ—</li>
                        <li><span class="highlight">è®°å™æ–‡è®­ç»ƒ 15%</span> - æŒæ¡M6,M7å¤¹å™å¤¹è®®</li>
                    </ul>
                </div>
                <div class="model-card">
                    <div class="model-title">æˆ˜æœ¯å±‚é¢ - è®­ç»ƒæ–¹æ³•</div>
                    <ul class="strategy-list">
                        <li><span class="highlight">é˜¶æ¢¯è®­ç»ƒæ³•</span> - è£¸å…¬å¼(40-50å­—) â†’ è¯åº“æ¶¦è‰²(70-85å­—)</li>
                        <li><span class="highlight">å¾ªç¯å·©å›ºæ³•</span> - æ¯å‘¨è½®æ¢ä¸åŒæ¨¡å…·ç»ƒä¹ </li>
                        <li><span class="highlight">çœŸé¢˜å¤ç°æ³•</span> - æŒ‰å¹´ä»½é¡ºåºæ¨¡æ‹Ÿå†å¹´è€ƒé¢˜</li>
                        <li><span class="highlight">æ¨¡å…·å¯¹æ¯”æ³•</span> - å¯¹æ¯”ç›¸ä¼¼æ¨¡å…·çš„ç»†å¾®å·®åˆ«</li>
                    </ul>
                </div>
            </div>

            <div class="model-card">
                <div class="model-title">ğŸ“ æ ¸å¿ƒå­¦ä¹ è·¯å¾„æ¨è</div>
                <ol class="strategy-list">
                    <li><strong>ç¬¬ä¸€é˜¶æ®µ</strong>ï¼šç†Ÿè®°ä¸ƒå¤§æ¨¡å…·å…¬å¼ï¼Œç†è§£æ¯ä¸ªæ¨¡å…·çš„åŸºæœ¬é€»è¾‘æ¡†æ¶</li>
                    <li><strong>ç¬¬äºŒé˜¶æ®µ</strong>ï¼šèƒŒè¯µè¡€è‚‰è¯åº“ï¼Œæå‡è¯­è¨€è¡¨è¾¾çš„è‡ªç„¶åº¦å’Œæµç•…æ€§</li>
                    <li><strong>ç¬¬ä¸‰é˜¶æ®µ</strong>ï¼šå¤§é‡çœŸé¢˜ç»ƒä¹ ï¼ŒæŒæ¡ä¸åŒä¸»é¢˜ä¸‹çš„æ¨¡å…·åº”ç”¨æŠ€å·§</li>
                    <li><strong>ç¬¬å››é˜¶æ®µ</strong>ï¼šæ¨¡æ‹Ÿè€ƒè¯•è®­ç»ƒï¼Œä¸¥æ ¼æŒ‰ç…§80å­—è¦æ±‚è¿›è¡Œé™æ—¶å†™ä½œ</li>
                    <li><strong>ç¬¬äº”é˜¶æ®µ</strong>ï¼šé”™é¢˜å›é¡¾åˆ†æï¼Œæ€»ç»“ä¸ªäººå†™ä½œä¸­çš„å¸¸è§é—®é¢˜å¹¶æ”¹è¿›</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // å†å¹´è€ƒé¢˜æ•°æ®
        const examData = [
            { year: 2023, theme: 'äººç”Ÿæ— å¸¸ä¸åº”å¯¹', genre: 'è¯´æ˜æ–‡', model: 'M3', logic: 'ç±»æ¯”æŠ½è±¡å¼' },
            { year: 2022, theme: 'å¾·é‡Œçš„å˜ä¸ä¸å˜', genre: 'è®°å™æ–‡', model: 'M7', logic: 'å¹¶åˆ—å¹¶æ”¶å¼' },
            { year: 2021, theme: 'æœ‰æ•ˆæ‰¹è¯„çš„æ–¹å¼ä¸åŠ›é‡', genre: 'è®®è®ºæ–‡', model: 'M1', logic: 'åŸå› ç»“æœå¼' },
            { year: 2020, theme: 'å¯¹æˆåŠŸæ—¶é—´è§‚çš„è½¬å˜', genre: 'è®®è®ºæ–‡', model: 'M6', logic: 'ç»å†è½¬å˜å¼' },
            { year: 2019, theme: 'äººç”Ÿæ€åº¦çš„é€‰æ‹©', genre: 'è®®è®ºæ–‡', model: 'M5', logic: 'å¤šå…ƒå¯¹æ¯”å¼' },
            { year: 2018, theme: 'ã€Šå‚…é›·å®¶ä¹¦ã€‹çš„ç‰¹ç‚¹ä¸å½±å“', genre: 'è®®è®ºæ–‡', model: 'M4', logic: 'ç‰¹å¾å½±å“å¼' },
            { year: 2017, theme: 'å¹¸ç¦çš„çœŸæ­£å«ä¹‰', genre: 'è®®è®ºæ–‡', model: 'M2', logic: 'å¦å®šå®šä¹‰å¼' },
            { year: 2016, theme: 'å¦‚ä½•è®©äººç”Ÿæ›´æœ‰æ„ä¹‰', genre: 'è®®è®ºæ–‡', model: 'M3', logic: 'ç±»æ¯”æŠ½è±¡å¼' },
            { year: 2015, theme: 'è¯»ä¹¦ä¸è¯»æŠ¥çš„åŒºåˆ«', genre: 'è®®è®ºæ–‡', model: 'M5', logic: 'å¤šå…ƒå¯¹æ¯”å¼' },
            { year: 2014, theme: 'è¶…è¶Šè‡ªå·±ï¼Œæ”€ä¸ŠæˆåŠŸé¡¶å³°', genre: 'è®®è®ºæ–‡', model: 'M7', logic: 'å¹¶åˆ—å¹¶æ”¶å¼' }
        ];

        // å­˜å‚¨æ‰€æœ‰å›¾è¡¨å®ä¾‹
        let chartInstances = {};

        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function showTab(tabId, element) {
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹å’ŒæŒ‰é’®
            document.getElementById(tabId).classList.add('active');
            element.classList.add('active');
            
            // å»¶è¿Ÿåˆå§‹åŒ–å›¾è¡¨ï¼Œç¡®ä¿DOMå…ƒç´ å¯è§
            setTimeout(() => {
                initializeCharts(tabId);
            }, 100);
        }

        // åˆå§‹åŒ–å›¾è¡¨
        function initializeCharts(tabId) {
            try {
                switch(tabId) {
                    case 'trend':
                        createTrendChart();
                        createGenreYearChart();
                        createModelFreqChart();
                        populateTrendTable();
                        break;
                    case 'genre':
                        createGenrePieChart();
                        createGenreModelChart();
                        break;
                    case 'model':
                        createModelUsageChart();
                        break;
                    case 'prediction':
                        createPredictionChart();
                        break;
                }
            } catch (error) {
                console.error('å›¾è¡¨åˆå§‹åŒ–é”™è¯¯:', error);
            }
        }

        // åˆ›å»ºè¶‹åŠ¿å›¾è¡¨
        function createTrendChart() {
            const ctx = document.getElementById('trendChart');
            if (!ctx) return;
            
            // é”€æ¯å·²å­˜åœ¨çš„å›¾è¡¨
            if (chartInstances.trend) {
                chartInstances.trend.destroy();
            }

            const seenModels = new Set();
            const chronologicalData = [...examData].reverse();
            const processedData = chronologicalData.map(item => {
                const isRepeat = seenModels.has(item.model);
                seenModels.add(item.model);
                return {
                    x: item.year,
                    y: parseInt(item.model.substring(1)),
                    model: item.model,
                    logic: item.logic,
                    isRepeat: isRepeat
                };
            });
            
            // é«˜å¯¹æ¯”åº¦é¢œè‰²æ–¹æ¡ˆ
            const modelColors = [
                '#FF6384', // M1
                '#4169E1', // M2
                '#FFCE56', // M3
                '#4BC0C0', // M4
                '#9966FF', // M5
                '#FF9F40', // M6
                '#C95B9C'  // M7
            ];

            chartInstances.trend = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'é€»è¾‘æ¨¡å…·ä½¿ç”¨è½¨è¿¹',
                        data: processedData,
                        backgroundColor: processedData.map(d => modelColors[d.y - 1]),
                        borderColor: processedData.map(d => modelColors[d.y - 1]),
                        borderWidth: 2,
                        pointRadius: processedData.map(d => d.isRepeat ? 10 : 8),
                        pointHoverRadius: processedData.map(d => d.isRepeat ? 12 : 10),
                        pointStyle: processedData.map(d => d.isRepeat ? 'star' : 'circle')
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const dataPoint = context.raw;
                                    const status = dataPoint.isRepeat ? " (å¤ç°)" : " (é¦–æ¬¡)";
                                    return ` ${dataPoint.x}å¹´: ${dataPoint.model}${status} - ${dataPoint.logic}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: { display: true, text: 'è€ƒè¯•å¹´ä»½' },
                            min: 2013,
                            max: 2024,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) { 
                                    return Number.isInteger(value) ? value.toString() : '';
                                }
                            }
                        },
                        y: {
                            title: { display: true, text: 'é€»è¾‘æ¨¡å…·ç±»åˆ«' },
                            min: 0.5,
                            max: 7.5,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    return Number.isInteger(value) && value >= 1 && value <= 7 ? 'M' + value : '';
                                }
                            }
                        }
                    }
                }
            });

            // ç”Ÿæˆå›¾ä¾‹
            const legendContainer = document.getElementById('trendChartLegend');
            if (legendContainer) {
                let legendHTML = '<div class="legend-group">';
                legendHTML += '<div class="legend-item"><span class="legend-shape">â—</span>é¦–æ¬¡å‡ºç°</div>';
                legendHTML += '<div class="legend-item"><span class="legend-shape" style="color: #FF9F40;">â˜…</span>æ¨¡å…·å¤ç°</div>';
                legendHTML += '</div><div class="legend-group">';
                
                modelColors.forEach((color, index) => {
                    legendHTML += `<div class="legend-item"><span class="legend-color-dot" style="background-color: ${color};"></span>M${index + 1}</div>`;
                });
                legendHTML += '</div>';
                
                legendContainer.innerHTML = legendHTML;
            }
        }

        // åˆ›å»ºæ–‡ä½“å¹´åº¦åˆ†å¸ƒå›¾
        function createGenreYearChart() {
            const ctx = document.getElementById('genreYearChart');
            if (!ctx) return;
            
            if (chartInstances.genreYear) {
                chartInstances.genreYear.destroy();
            }
            
            const genreMapping = { 'è®°å™æ–‡': 0, 'è¯´æ˜æ–‡': 1, 'è®®è®ºæ–‡': 2 };
            const genreLabels = ['è®°å™æ–‡', 'è¯´æ˜æ–‡', 'è®®è®ºæ–‡'];
            const colors = { 'è®°å™æ–‡': '#f093fb', 'è¯´æ˜æ–‡': '#764ba2', 'è®®è®ºæ–‡': '#667eea' };

            const scatterData = examData.map(item => ({
                x: item.year,
                y: genreMapping[item.genre],
                genre: item.genre
            }));

            chartInstances.genreYear = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'è€ƒé¢˜æ–‡ä½“',
                        data: scatterData,
                        backgroundColor: scatterData.map(d => colors[d.genre]),
                        borderColor: scatterData.map(d => colors[d.genre]),
                        borderWidth: 2,
                        pointRadius: 8,
                        pointHoverRadius: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const dataPoint = context.raw;
                                    return ` ${dataPoint.x}å¹´: ${dataPoint.genre}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: { display: true, text: 'è€ƒè¯•å¹´ä»½' },
                            min: 2013,
                            max: 2024,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) { 
                                    return Number.isInteger(value) ? value.toString() : '';
                                }
                            }
                        },
                        y: {
                            min: -0.5,
                            max: 2.5,
                            ticks: {
                                callback: function(value) { 
                                    return Number.isInteger(value) && genreLabels[value] ? genreLabels[value] : '';
                                }
                            }
                        }
                    }
                }
            });
        }

        // åˆ›å»ºæ¨¡å…·é¢‘æ¬¡å›¾
        function createModelFreqChart() {
            const ctx = document.getElementById('modelFreqChart');
            if (!ctx) return;
            
            if (chartInstances.modelFreq) {
                chartInstances.modelFreq.destroy();
            }
            
            const modelCount = {};
            examData.forEach(item => {
                modelCount[item.model] = (modelCount[item.model] || 0) + 1;
            });
            
            const labels = ['M1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7'];
            const data = labels.map(model => modelCount[model] || 0);
            
            chartInstances.modelFreq = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ä½¿ç”¨æ¬¡æ•°',
                        data: data,
                        backgroundColor: ['#667eea', '#7068d8', '#795cc6', '#8351b4', '#8c45a2', '#963a90', '#a02e7e'],
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 3,
                            ticks: { stepSize: 1 }
                        }
                    }
                }
            });
        }

        // å¡«å……è¶‹åŠ¿è¡¨æ ¼
        function populateTrendTable() {
            const tbody = document.getElementById('trendTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            examData.forEach(item => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${item.year}</td>
                    <td>${item.theme}</td>
                    <td><span class="year-badge">${item.genre}</span></td>
                    <td><span class="highlight">${item.model}</span></td>
                    <td>${item.logic}</td>
                `;
            });
        }

        // åˆ›å»ºæ–‡ä½“é¥¼å›¾
        function createGenrePieChart() {
            const ctx = document.getElementById('genrePieChart');
            if (!ctx) return;
            
            if (chartInstances.genrePie) {
                chartInstances.genrePie.destroy();
            }
            
            const genreCount = { 'è®®è®ºæ–‡': 0, 'è¯´æ˜æ–‡': 0, 'è®°å™æ–‡': 0 };
            examData.forEach(item => genreCount[item.genre]++);
            
            chartInstances.genrePie = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: Object.keys(genreCount),
                    datasets: [{
                        data: Object.values(genreCount),
                        backgroundColor: ['#667eea', '#764ba2', '#f093fb'],
                        borderWidth: 3,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { usePointStyle: true, padding: 20 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((context.raw / total) * 100);
                                    return ` ${context.label}: ${context.raw}æ¬¡ (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // åˆ›å»ºæ–‡ä½“-æ¨¡å…·å…³ç³»å›¾
        function createGenreModelChart() {
            const ctx = document.getElementById('genreModelChart');
            if (!ctx) return;
            
            if (chartInstances.genreModel) {
                chartInstances.genreModel.destroy();
            }
            
            const genreModel = {};
            examData.forEach(item => {
                if (!genreModel[item.genre]) genreModel[item.genre] = {};
                genreModel[item.genre][item.model] = (genreModel[item.genre][item.model] || 0) + 1;
            });
            
            const datasets = [];
            const colors = {'è®®è®ºæ–‡': '#667eea', 'è¯´æ˜æ–‡': '#764ba2', 'è®°å™æ–‡': '#f093fb'};
            const labels = ['M1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7'];
            
            Object.keys(colors).forEach(genre => {
                if (genreModel[genre]) {
                    const modelData = labels.map(model => genreModel[genre][model] || 0);
                    datasets.push({
                        label: genre,
                        data: modelData,
                        backgroundColor: colors[genre],
                        borderRadius: 3
                    });
                }
            });
            
            chartInstances.genreModel = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'top' } },
                    scales: {
                        x: { title: { display: true, text: 'é€»è¾‘æ¨¡å…·' } },
                        y: {
                            beginAtZero: true,
                            max: 2,
                            ticks: { stepSize: 1 },
                            title: { display: true, text: 'ä½¿ç”¨æ¬¡æ•°' }
                        }
                    }
                }
            });
        }

        // åˆ›å»ºæ¨¡å…·ä½¿ç”¨å›¾
        function createModelUsageChart() {
            const ctx = document.getElementById('modelUsageChart');
            if (!ctx) return;
            
            if (chartInstances.modelUsage) {
                chartInstances.modelUsage.destroy();
            }
            
            const modelCount = {};
            const modelYears = {};
            examData.forEach(item => {
                modelCount[item.model] = (modelCount[item.model] || 0) + 1;
                if (!modelYears[item.model]) modelYears[item.model] = [];
                modelYears[item.model].push(item.year);
            });
            
            const labels = ['M1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7'];
            const data = labels.map(model => modelCount[model] || 0);
            
            chartInstances.modelUsage = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ä½¿ç”¨æ¬¡æ•°',
                        data: data,
                        backgroundColor: data.map(value => {
                            if (value === 0) return '#e0e0e0';
                            if (value === 1) return '#667eea';
                            return '#764ba2';
                        }),
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                afterLabel: function(context) {
                                    const model = context.label;
                                    const years = modelYears[model];
                                    return years ? 'å‡ºç°å¹´ä»½: ' + years.join(', ') : 'æœªå‡ºç°';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 3,
                            ticks: { stepSize: 1 }
                        }
                    }
                }
            });
        }

        // åˆ›å»ºé¢„æµ‹å›¾
        function createPredictionChart() {
            const ctx = document.getElementById('predictionChart');
            if (!ctx) return;
            
            if (chartInstances.prediction) {
                chartInstances.prediction.destroy();
            }
            
            const allModels = ['M1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7'];
            const predictions = {};
            
            allModels.forEach(model => {
                const lastUsedIndex = examData.findIndex(item => item.model === model);
                if (lastUsedIndex === -1) predictions[model] = 90;
                else if (lastUsedIndex >= 5) predictions[model] = 70;
                else if (lastUsedIndex >= 3) predictions[model] = 50;
                else predictions[model] = 20;
            });
            
            chartInstances.prediction = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: allModels,
                    datasets: [{
                        label: '2024å¹´å‡ºç°æ¦‚ç‡(%)',
                        data: allModels.map(model => predictions[model]),
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: '#667eea',
                        borderWidth: 2,
                        pointBackgroundColor: '#667eea',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { position: 'top' }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { stepSize: 20 }
                        }
                    }
                }
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                initializeCharts('trend');
            }, 300);
        });
    </script>
</body>
</html>